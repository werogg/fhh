<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Clínica Sant Gervasi</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="../main.css">
    <link rel="stylesheet" href="cite.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<header class="header-background">
    <div id="app">
        <nav class="header-background navbar navbar-expand-sm navbar-color-new">
            <ul class="navbar-nav">
                <li class="nav-item nav-separation font-weight-bold"><a class="navbar-brand" href="../">{{ title }}</a></li>
                <li class="nav-separation"></li>
                <li class="nav-separation dropdown">
                    <a onclick="myFunction()" class="dropdown-toggle dropbtn nav-link">{{ treatments }}</a>
                    <div id="myDropdown" class="dropdown-content">
                        <a href="../treatments/depresion.html">{{ tr1 }}</a>
                        <a href="../treatments/ansiedad.html">{{ tr2 }}</a>
                        <a href="../treatments/ataques_panico.html">{{ tr3 }}</a>
                        <a href="../treatments/tdah.html">{{ tr4 }}</a>
                        <a href="../treatments/insomnio.html">{{ tr5 }}</a>
                    </div>
                </li>
                <li class="nav-item nav-separation"><b><a class="nav-link" href="../cite/index.html">{{ cite }}</a></b></li>
                <li class="nav-item nav-separation"><a class="nav-link" href="../consult/index.html">{{ specialist }}</a></li>
                <li class="nav-item nav-separation"><a class="nav-link" href="../results/index.html">{{ results }}</a></li>
            </ul>
        </nav>
    </div>
</header>
<body class="background" style="overflow: auto">

    <h1 class="title-cite text-center">Reserva tu cita con nuestros especialistas</h1>
    <h5 class="text-center">Estarás en las mejores manos</h5>

    <form action="confirm_cite.html">
    <div class="wrapper">
        <div class="item1">
            <label for="appointment_type">Tipo de cita:</label>
            <select name="appointment_type" id="appointment_type" class="left_selects">
                <option value="revision">Revisión</option>
                <option value="consult">Consulta</option>
                <option value="analysis">Análisis</option>
            </select>
            <br><br>
            <label for="specialist_type">Especialista:</label>
            <select name="specialist_type" id="specialist_type" class="left_selects">
                <option value="pediatra">Pediatra (Lu - Mi - Vi)</option>
                <option value="psicologo">Psicólogo (Ma - Ju)</option>
                <option value="psiquiatra">Psiquiatra (Ma - Vi)</option>
                <option value="neurologo">Neurologo (Lu)</option>
            </select>
            <br><br>
            <label for="date_select">Fecha:</label>
            <input type="date" id="date_select" name="date_select" class="left_selects" required>
        </div>

        <div class="item2">
            <label for="name_input">Nombre:</label>
            <input type="text" id="name_input" name="name_input" class="left_selects" required>
            <br><br>
            <label for="birthday_select">Nacimiento:</label>
            <input type="date" id="birthday_select" name="birthday_select" class="left_selects" required>
            <br><br>
            <label for="dni_input">DNI:</label>
            <input type="text" id="dni_input" name="dni_input" class="left_selects" required>
            <br><br>
            <label for="phone_input">Telefono:</label>
            <input type="text" id="phone_input" name="phone_input" class="left_selects" required>
            <br><br>
            <button class="button button4" role="link" type="submit">CONFIRMAR CITA</button>
        </div>
    </div>
    </form>
</body>

<footer class="footer_bot">
    <div class="container text-center">
        <div class="row">
            <div class="column nav-item nav-separation font-weight-bold">
                <a class="social-button" href="https://www.twitter.com"> <i class="fa fa-twitter" style="font-size:36px"></i></a>
                <a class="social-button" href="https://www.instagram.com"> <i class="fa fa-instagram" style="font-size:36px"></i></a>
                <a class="social-button" href="https://www.facebook.com"> <i class="fa fa-facebook" style="font-size:36px"></i></a>
            </div>
            <div class="column nav-item nav-separation font-weight-bold">
                <h3>Clínica Sant Gervasi</h3>
            </div>
            <div class="column nav-item nav-separation">
                <p>© 2021 Clínica sant gervasi</p>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="../main.js"></script>
<script>
    const validate = (dateString) => {
        const day = (new Date(dateString)).getDay();
        const sel = document.getElementById("specialist_type")
        switch (sel.value) {
            case 'pediatra':
                return !(day === 0 || day === 6 || day === 2 || day === 4)
            case 'psicologo':
                return !(day === 0 || day === 6 || day === 1 || day === 3 || day === 5)
            case 'psiquiatra':
                return !(day === 0 || day === 6 || day === 1 || day === 3 || day === 4)
            case 'neurologo':
                return !(day === 0 || day === 6 || day === 2 || day === 3 || day === 4 || day === 5)
        }
    }

    // Sets the value to '' in case of an invalid date
    document.querySelector('#date_select').onchange = evt => {
        if (!validate(evt.target.value)) {
            evt.target.value = '';
            alert('¡Esta fecha no está disponible!')
        }
    }

    document.querySelector('#specialist_type').onchange = evt => {
        const sel = document.getElementById("date_select")
        if (sel.value !== '') {
            sel.value = '';
        }
    }
</script>
</html>